{% extends 'base.html' %}

{% block title %}
  {% if property %}Gallery for {{ property.name }}{% else %}All Images{% endif %}
{% endblock %}

{% block head_extra %}
-  <style>
-    .gallery {
-      display: flex;
-      flex-wrap: wrap;
-      gap: 1rem;
-      justify-content: start;
-    }
-    .gallery a {
-      display: block;
-      width: 150px;
-      height: 150px;
-      overflow: hidden;
-      border: 1px solid #ccc;
-      border-radius: 4px;
-    }
-    .gallery img {
-      width: 100%;
-      height: 100%;
-      object-fit: cover;
-      display: block;
-    }
-  </style>
+  <style>
+    .gallery {
+      display: flex;
+      flex-wrap: wrap;
+      gap: 1rem;
+    }
+
+    /* force each tile to be exactly 150Ã—150 */
+    .gallery-item {
+      flex: 0 0 auto;
+      width: 150px;
+      height: 150px;
+      overflow: hidden;
+      border: 1px solid #ccc;
+      border-radius: 4px;
+    }
+
+    /* make the image cover that box */
+    .gallery-item img {
+      display: block;
+      width: 100%;
+      height: 100%;
+      object-fit: cover;
+    }
+  </style>
{% endblock %}

{% block content %}
  <h2>
    {% if property %}
      Gallery for {{ property.name }}
    {% else %}
      All Images
    {% endif %}
  </h2>

  {% if image_files %}
    <div class="gallery">
      {% for img in image_files %}
-        <a href="{{ url_for('static', filename=img) }}" target="_blank">
-          <img src="{{ url_for('static', filename=img) }}" alt="">
-        </a>
+        <div class="gallery-item">
+          <a href="{{ url_for('static', filename=img) }}" target="_blank">
+            <img src="{{ url_for('static', filename=img) }}" alt="">
+          </a>
+        </div>
      {% endfor %}
    </div>
  {% else %}
    <p>No images to display.</p>
  {% endif %}
{% endblock %}
